{"ast":null,"code":"import _slicedToArray from\"C:/School Stuff/Modules/2021 Sem One/Final Year Project/Temperature Monitoring And Attendance Taking System/Web Interface Prototype/raspitar/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from\"react\";import{AccountContext}from\"./Account\";import{Row,Col,Container,Form,Button,Spinner}from\"react-bootstrap\";import NewPassword from\"./NewPassword\";import ForgetPassword from\"./ForgetPassword\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),stage=_useState6[0],setStage=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setMessage=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isLoading=_useState10[0],setIsLoading=_useState10[1];var _useContext=useContext(AccountContext),authenticate=_useContext.authenticate,isFirstLogin=_useContext.isFirstLogin;var onSubmit=function onSubmit(event){event.preventDefault();authenticate(email,password).then(function(data){console.log(\"Logged in!\",data);setIsLoading(true);}).catch(function(err){console.error(\"Failed to login!\",err);setMessage(\"Incorrect username or password.\");setIsLoading(false);});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Container,{className:\"login text-center\",fluid:true,children:/*#__PURE__*/_jsxs(Row,{style:{height:\"100vh\"},children:[/*#__PURE__*/_jsx(Col,{className:\"login-left\",xl:6,lg:12,md:12,sm:12,xs:12,children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-title\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"RASPITAR\"}),/*#__PURE__*/_jsx(\"h3\",{style:{textDecoration:\"underline\"},children:\"WEB\"})]})}),/*#__PURE__*/_jsx(Col,{className:\"login-right\",xl:6,lg:12,md:12,sm:12,xs:12,children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{className:\"login-area\",children:isFirstLogin?/*#__PURE__*/_jsx(NewPassword,{}):/*#__PURE__*/_jsx(_Fragment,{children:stage===1?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:\"calc(2rem + 2vw)\",fontWeight:\"bold\",textAlign:\"left\"},children:\"Hello there,\"}),/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:\"calc(1rem + 1vw)\",fontWeight:\"normal\",color:\"#848484\",textAlign:\"left\"},children:\"Login to your account\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(Form.Group,{controlId:\"formBasicEmail\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Email\",onChange:function onChange(event){return setEmail(event.target.value);}})}),/*#__PURE__*/_jsx(Form.Group,{controlId:\"formBasicPassword\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",onChange:function onChange(event){return setPassword(event.target.value);}})}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",style:{width:\"100%\",backgroundColor:\"#3241c9\",fontSize:\"22px\",marginBottom:\"10px\"},children:isLoading?/*#__PURE__*/_jsx(Spinner,{as:\"span\",animation:\"border\",size:\"sm\",role:\"status\",\"aria-hidden\":\"true\"}):/*#__PURE__*/_jsx(\"span\",{children:\"Log in\"})})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",style:{width:\"100%\",backgroundColor:\"#3241c9\",fontSize:\"22px\",marginBottom:\"10px\"},onClick:function onClick(){setStage(2);},children:\"Forget Password\"}),/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:\"18px\",color:\"red\",textAlign:\"center\"},children:message})]}):/*#__PURE__*/_jsx(ForgetPassword,{})})})})})]})})});};export default Login;","map":{"version":3,"sources":["C:/School Stuff/Modules/2021 Sem One/Final Year Project/Temperature Monitoring And Attendance Taking System/Web Interface Prototype/raspitar/client/src/components/Authentication/Login.js"],"names":["React","useState","useContext","AccountContext","Row","Col","Container","Form","Button","Spinner","NewPassword","ForgetPassword","Login","email","setEmail","password","setPassword","stage","setStage","message","setMessage","isLoading","setIsLoading","authenticate","isFirstLogin","onSubmit","event","preventDefault","then","data","console","log","catch","err","error","height","textDecoration","fontSize","fontWeight","textAlign","color","target","value","width","backgroundColor","marginBottom"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport { AccountContext } from \"./Account\";\r\nimport { Row, Col, Container, Form, Button, Spinner } from \"react-bootstrap\";\r\n\r\nimport NewPassword from \"./NewPassword\";\r\nimport ForgetPassword from \"./ForgetPassword\";\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [stage, setStage] = useState(1);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const { authenticate, isFirstLogin } = useContext(AccountContext);\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    authenticate(email, password)\r\n      .then((data) => {\r\n        console.log(\"Logged in!\", data);\r\n        setIsLoading(true);\r\n      })\r\n\r\n      .catch((err) => {\r\n        console.error(\"Failed to login!\", err);\r\n        setMessage(\"Incorrect username or password.\");\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Container className=\"login text-center\" fluid>\r\n        <Row style={{ height: \"100vh\" }}>\r\n          <Col className=\"login-left\" xl={6} lg={12} md={12} sm={12} xs={12}>\r\n            <div className=\"login-title\">\r\n              <h3>RASPITAR</h3>\r\n              <h3 style={{ textDecoration: \"underline\" }}>WEB</h3>\r\n            </div>\r\n          </Col>\r\n\r\n          <Col className=\"login-right\" xl={6} lg={12} md={12} sm={12} xs={12}>\r\n            <Row>\r\n              <Col className=\"login-area\">\r\n                {isFirstLogin ? (\r\n                  <NewPassword />\r\n                ) : (\r\n                  <>\r\n                    {stage === 1 ? (\r\n                      <>\r\n                        <h3\r\n                          style={{\r\n                            fontSize: \"calc(2rem + 2vw)\",\r\n                            fontWeight: \"bold\",\r\n                            textAlign: \"left\",\r\n                          }}\r\n                        >\r\n                          Hello there,\r\n                        </h3>\r\n                        <h3\r\n                          style={{\r\n                            fontSize: \"calc(1rem + 1vw)\",\r\n                            fontWeight: \"normal\",\r\n                            color: \"#848484\",\r\n                            textAlign: \"left\",\r\n                          }}\r\n                        >\r\n                          Login to your account\r\n                        </h3>\r\n                        <Form onSubmit={onSubmit}>\r\n                          <Form.Group controlId=\"formBasicEmail\">\r\n                            <Form.Control\r\n                              type=\"email\"\r\n                              placeholder=\"Email\"\r\n                              onChange={(event) => setEmail(event.target.value)}\r\n                            />\r\n                          </Form.Group>\r\n\r\n                          <Form.Group controlId=\"formBasicPassword\">\r\n                            <Form.Control\r\n                              type=\"password\"\r\n                              placeholder=\"Password\"\r\n                              onChange={(event) =>\r\n                                setPassword(event.target.value)\r\n                              }\r\n                            />\r\n                          </Form.Group>\r\n\r\n                          <Button\r\n                            variant=\"primary\"\r\n                            type=\"submit\"\r\n                            style={{\r\n                              width: \"100%\",\r\n                              backgroundColor: \"#3241c9\",\r\n                              fontSize: \"22px\",\r\n                              marginBottom: \"10px\",\r\n                            }}\r\n                          >\r\n                            {isLoading ? (\r\n                              <Spinner\r\n                                as=\"span\"\r\n                                animation=\"border\"\r\n                                size=\"sm\"\r\n                                role=\"status\"\r\n                                aria-hidden=\"true\"\r\n                              />\r\n                            ) : (\r\n                              <span>Log in</span>\r\n                            )}\r\n                          </Button>\r\n                        </Form>\r\n                        <Button\r\n                          variant=\"primary\"\r\n                          type=\"submit\"\r\n                          style={{\r\n                            width: \"100%\",\r\n                            backgroundColor: \"#3241c9\",\r\n                            fontSize: \"22px\",\r\n                            marginBottom: \"10px\",\r\n                          }}\r\n                          onClick={() => {\r\n                            setStage(2);\r\n                          }}\r\n                        >\r\n                          Forget Password\r\n                        </Button>\r\n                        <h3\r\n                          style={{\r\n                            fontSize: \"18px\",\r\n                            color: \"red\",\r\n                            textAlign: \"center\",\r\n                          }}\r\n                        >\r\n                          {message}\r\n                        </h3>\r\n                      </>\r\n                    ) : (\r\n                      <ForgetPassword />\r\n                    )}\r\n                  </>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}
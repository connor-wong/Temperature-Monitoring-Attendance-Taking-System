{"ast":null,"code":"import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Select/select';\nimport checkStyles from '@patternfly/react-styles/css/components/Check/check';\nimport { css } from '@patternfly/react-styles';\nimport CheckIcon from \"@patternfly/react-icons/dist/esm/icons/check-icon\";\nimport { SelectConsumer, SelectVariant, KeyTypes } from './selectConstants';\nimport StarIcon from \"@patternfly/react-icons/dist/esm/icons/star-icon\";\nimport { getUniqueId } from '../../helpers/util';\nexport class SelectOption extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.ref = React.createRef();\n    this.liRef = React.createRef();\n    this.favoriteRef = React.createRef();\n\n    this.onKeyDown = (event, innerIndex, onEnter, isCheckbox) => {\n      const {\n        index,\n        keyHandler\n      } = this.props;\n\n      if (event.key === KeyTypes.Tab) {\n        // More modal-like experience for checkboxes\n        if (isCheckbox) {\n          if (event.shiftKey) {\n            keyHandler(index, innerIndex, 'up');\n          } else {\n            keyHandler(index, innerIndex, 'down');\n          }\n\n          event.stopPropagation();\n        } else {\n          keyHandler(index, innerIndex, 'tab');\n        }\n      }\n\n      event.preventDefault();\n\n      if (event.key === KeyTypes.ArrowUp) {\n        keyHandler(index, innerIndex, 'up');\n      } else if (event.key === KeyTypes.ArrowDown) {\n        keyHandler(index, innerIndex, 'down');\n      } else if (event.key === KeyTypes.ArrowLeft) {\n        keyHandler(index, innerIndex, 'left');\n      } else if (event.key === KeyTypes.ArrowRight) {\n        keyHandler(index, innerIndex, 'right');\n      } else if (event.key === KeyTypes.Enter) {\n        if (onEnter !== undefined) {\n          onEnter();\n        } else {\n          this.ref.current.click();\n        }\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.props.sendRef(this.props.isDisabled ? null : this.ref.current, this.props.isDisabled ? null : this.favoriteRef.current, this.props.isDisabled ? null : this.liRef.current, this.props.index);\n  }\n\n  componentDidUpdate() {\n    this.props.sendRef(this.props.isDisabled ? null : this.ref.current, this.props.isDisabled ? null : this.favoriteRef.current, this.props.isDisabled ? null : this.liRef.current, this.props.index);\n  }\n\n  render() {\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    const _a = this.props,\n          {\n      children,\n      className,\n      id,\n      description,\n      itemCount,\n      value,\n      onClick,\n      isDisabled,\n      isPlaceholder,\n      isNoResultsOption,\n      isSelected,\n      isChecked,\n      isFocused,\n      sendRef,\n      keyHandler,\n      index,\n      component,\n      inputId,\n      isFavorite,\n      ariaIsFavoriteLabel = 'starred',\n      ariaIsNotFavoriteLabel = 'not starred'\n    } = _a,\n          props = __rest(_a, [\"children\", \"className\", \"id\", \"description\", \"itemCount\", \"value\", \"onClick\", \"isDisabled\", \"isPlaceholder\", \"isNoResultsOption\", \"isSelected\", \"isChecked\", \"isFocused\", \"sendRef\", \"keyHandler\", \"index\", \"component\", \"inputId\", \"isFavorite\", \"ariaIsFavoriteLabel\", \"ariaIsNotFavoriteLabel\"]);\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n\n\n    const Component = component;\n\n    if (!id && isFavorite !== null) {\n      // eslint-disable-next-line no-console\n      console.error('Please provide an id to use the favorites feature.');\n    }\n\n    const generatedId = id || getUniqueId('select-option');\n\n    const favoriteButton = onFavorite => React.createElement(\"button\", {\n      className: css(styles.selectMenuItem, styles.modifiers.action, styles.modifiers.favoriteAction),\n      \"aria-label\": isFavorite ? ariaIsFavoriteLabel : ariaIsNotFavoriteLabel,\n      onClick: () => {\n        onFavorite(generatedId.replace('favorite-', ''), isFavorite);\n      },\n      onKeyDown: event => {\n        this.onKeyDown(event, 1, () => onFavorite(generatedId.replace('favorite-', '')));\n      },\n      ref: this.favoriteRef\n    }, React.createElement(\"span\", {\n      className: css(styles.selectMenuItemActionIcon)\n    }, React.createElement(StarIcon, null)));\n\n    const itemDisplay = itemCount ? React.createElement(\"span\", {\n      className: css(styles.selectMenuItemRow)\n    }, React.createElement(\"span\", {\n      className: css(styles.selectMenuItemText)\n    }, children || value.toString()), React.createElement(\"span\", {\n      className: css(styles.selectMenuItemCount)\n    }, itemCount)) : children || value.toString();\n    return React.createElement(SelectConsumer, null, ({\n      onSelect,\n      onClose,\n      variant,\n      inputIdPrefix,\n      onFavorite\n    }) => React.createElement(React.Fragment, null, variant !== SelectVariant.checkbox && React.createElement(\"li\", {\n      id: generatedId,\n      role: \"presentation\",\n      className: css(styles.selectMenuWrapper, isFavorite && styles.modifiers.favorite, isFocused && styles.modifiers.focus),\n      ref: this.liRef\n    }, React.createElement(Component, Object.assign({}, props, {\n      className: css(styles.selectMenuItem, isSelected && styles.modifiers.selected, isDisabled && styles.modifiers.disabled, description && styles.modifiers.description, isFavorite !== null && styles.modifiers.link, className),\n      onClick: event => {\n        if (!isDisabled) {\n          onClick(event);\n          onSelect(event, value, isPlaceholder);\n          onClose();\n        }\n      },\n      role: \"option\",\n      \"aria-selected\": isSelected || null,\n      ref: this.ref,\n      onKeyDown: event => {\n        this.onKeyDown(event, 0);\n      },\n      type: \"button\"\n    }), description && React.createElement(React.Fragment, null, React.createElement(\"span\", {\n      className: css(styles.selectMenuItemMain)\n    }, itemDisplay, isSelected && React.createElement(\"span\", {\n      className: css(styles.selectMenuItemIcon)\n    }, React.createElement(CheckIcon, {\n      \"aria-hidden\": true\n    }))), React.createElement(\"span\", {\n      className: css(styles.selectMenuItemDescription)\n    }, description)), !description && React.createElement(React.Fragment, null, itemDisplay, isSelected && React.createElement(\"span\", {\n      className: css(styles.selectMenuItemIcon)\n    }, React.createElement(CheckIcon, {\n      \"aria-hidden\": true\n    })))), isFavorite !== null && id && favoriteButton(onFavorite)), variant === SelectVariant.checkbox && !isNoResultsOption && React.createElement(\"label\", Object.assign({}, props, {\n      className: css(checkStyles.check, styles.selectMenuItem, isDisabled && styles.modifiers.disabled, description && styles.modifiers.description, className),\n      onKeyDown: event => {\n        this.onKeyDown(event, 0, undefined, true);\n      }\n    }), React.createElement(\"input\", {\n      id: inputId || `${inputIdPrefix}-${value.toString()}`,\n      className: css(checkStyles.checkInput),\n      type: \"checkbox\",\n      onChange: event => {\n        if (!isDisabled) {\n          onClick(event);\n          onSelect(event, value);\n        }\n      },\n      ref: this.ref,\n      checked: isChecked || false,\n      disabled: isDisabled\n    }), React.createElement(\"span\", {\n      className: css(checkStyles.checkLabel, isDisabled && styles.modifiers.disabled)\n    }, itemDisplay), description && React.createElement(\"div\", {\n      className: css(checkStyles.checkDescription)\n    }, description)), variant === SelectVariant.checkbox && isNoResultsOption && React.createElement(\"div\", null, React.createElement(Component, Object.assign({}, props, {\n      className: css(styles.selectMenuItem, isSelected && styles.modifiers.selected, isDisabled && styles.modifiers.disabled, className),\n      role: \"option\",\n      \"aria-selected\": isSelected || null,\n      ref: this.ref,\n      onKeyDown: event => {\n        this.onKeyDown(event, 0, undefined, true);\n      },\n      type: \"button\"\n    }), itemDisplay))));\n  }\n\n}\nSelectOption.displayName = 'SelectOption';\nSelectOption.defaultProps = {\n  className: '',\n  value: '',\n  index: 0,\n  isDisabled: false,\n  isPlaceholder: false,\n  isSelected: false,\n  isChecked: false,\n  isNoResultsOption: false,\n  component: 'button',\n  onClick: () => {},\n  sendRef: () => {},\n  keyHandler: () => {},\n  inputId: '',\n  isFavorite: null\n};","map":{"version":3,"sources":["../../../../src/components/Select/SelectOption.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Select/select';\nimport checkStyles from '@patternfly/react-styles/css/components/Check/check';\nimport { css } from '@patternfly/react-styles';\nimport CheckIcon from \"@patternfly/react-icons/dist/esm/icons/check-icon\";\nimport { SelectConsumer, SelectVariant, KeyTypes } from './selectConstants';\nimport StarIcon from \"@patternfly/react-icons/dist/esm/icons/star-icon\";\nimport { getUniqueId } from '../../helpers/util';\nexport class SelectOption extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.ref = React.createRef();\n        this.liRef = React.createRef();\n        this.favoriteRef = React.createRef();\n        this.onKeyDown = (event, innerIndex, onEnter, isCheckbox) => {\n            const { index, keyHandler } = this.props;\n            if (event.key === KeyTypes.Tab) {\n                // More modal-like experience for checkboxes\n                if (isCheckbox) {\n                    if (event.shiftKey) {\n                        keyHandler(index, innerIndex, 'up');\n                    }\n                    else {\n                        keyHandler(index, innerIndex, 'down');\n                    }\n                    event.stopPropagation();\n                }\n                else {\n                    keyHandler(index, innerIndex, 'tab');\n                }\n            }\n            event.preventDefault();\n            if (event.key === KeyTypes.ArrowUp) {\n                keyHandler(index, innerIndex, 'up');\n            }\n            else if (event.key === KeyTypes.ArrowDown) {\n                keyHandler(index, innerIndex, 'down');\n            }\n            else if (event.key === KeyTypes.ArrowLeft) {\n                keyHandler(index, innerIndex, 'left');\n            }\n            else if (event.key === KeyTypes.ArrowRight) {\n                keyHandler(index, innerIndex, 'right');\n            }\n            else if (event.key === KeyTypes.Enter) {\n                if (onEnter !== undefined) {\n                    onEnter();\n                }\n                else {\n                    this.ref.current.click();\n                }\n            }\n        };\n    }\n    componentDidMount() {\n        this.props.sendRef(this.props.isDisabled ? null : this.ref.current, this.props.isDisabled ? null : this.favoriteRef.current, this.props.isDisabled ? null : this.liRef.current, this.props.index);\n    }\n    componentDidUpdate() {\n        this.props.sendRef(this.props.isDisabled ? null : this.ref.current, this.props.isDisabled ? null : this.favoriteRef.current, this.props.isDisabled ? null : this.liRef.current, this.props.index);\n    }\n    render() {\n        /* eslint-disable @typescript-eslint/no-unused-vars */\n        const _a = this.props, { children, className, id, description, itemCount, value, onClick, isDisabled, isPlaceholder, isNoResultsOption, isSelected, isChecked, isFocused, sendRef, keyHandler, index, component, inputId, isFavorite, ariaIsFavoriteLabel = 'starred', ariaIsNotFavoriteLabel = 'not starred' } = _a, props = __rest(_a, [\"children\", \"className\", \"id\", \"description\", \"itemCount\", \"value\", \"onClick\", \"isDisabled\", \"isPlaceholder\", \"isNoResultsOption\", \"isSelected\", \"isChecked\", \"isFocused\", \"sendRef\", \"keyHandler\", \"index\", \"component\", \"inputId\", \"isFavorite\", \"ariaIsFavoriteLabel\", \"ariaIsNotFavoriteLabel\"]);\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        const Component = component;\n        if (!id && isFavorite !== null) {\n            // eslint-disable-next-line no-console\n            console.error('Please provide an id to use the favorites feature.');\n        }\n        const generatedId = id || getUniqueId('select-option');\n        const favoriteButton = (onFavorite) => (React.createElement(\"button\", { className: css(styles.selectMenuItem, styles.modifiers.action, styles.modifiers.favoriteAction), \"aria-label\": isFavorite ? ariaIsFavoriteLabel : ariaIsNotFavoriteLabel, onClick: () => {\n                onFavorite(generatedId.replace('favorite-', ''), isFavorite);\n            }, onKeyDown: event => {\n                this.onKeyDown(event, 1, () => onFavorite(generatedId.replace('favorite-', '')));\n            }, ref: this.favoriteRef },\n            React.createElement(\"span\", { className: css(styles.selectMenuItemActionIcon) },\n                React.createElement(StarIcon, null))));\n        const itemDisplay = itemCount ? (React.createElement(\"span\", { className: css(styles.selectMenuItemRow) },\n            React.createElement(\"span\", { className: css(styles.selectMenuItemText) }, children || value.toString()),\n            React.createElement(\"span\", { className: css(styles.selectMenuItemCount) }, itemCount))) : (children || value.toString());\n        return (React.createElement(SelectConsumer, null, ({ onSelect, onClose, variant, inputIdPrefix, onFavorite }) => (React.createElement(React.Fragment, null,\n            variant !== SelectVariant.checkbox && (React.createElement(\"li\", { id: generatedId, role: \"presentation\", className: css(styles.selectMenuWrapper, isFavorite && styles.modifiers.favorite, isFocused && styles.modifiers.focus), ref: this.liRef },\n                React.createElement(Component, Object.assign({}, props, { className: css(styles.selectMenuItem, isSelected && styles.modifiers.selected, isDisabled && styles.modifiers.disabled, description && styles.modifiers.description, isFavorite !== null && styles.modifiers.link, className), onClick: (event) => {\n                        if (!isDisabled) {\n                            onClick(event);\n                            onSelect(event, value, isPlaceholder);\n                            onClose();\n                        }\n                    }, role: \"option\", \"aria-selected\": isSelected || null, ref: this.ref, onKeyDown: (event) => {\n                        this.onKeyDown(event, 0);\n                    }, type: \"button\" }),\n                    description && (React.createElement(React.Fragment, null,\n                        React.createElement(\"span\", { className: css(styles.selectMenuItemMain) },\n                            itemDisplay,\n                            isSelected && (React.createElement(\"span\", { className: css(styles.selectMenuItemIcon) },\n                                React.createElement(CheckIcon, { \"aria-hidden\": true })))),\n                        React.createElement(\"span\", { className: css(styles.selectMenuItemDescription) }, description))),\n                    !description && (React.createElement(React.Fragment, null,\n                        itemDisplay,\n                        isSelected && (React.createElement(\"span\", { className: css(styles.selectMenuItemIcon) },\n                            React.createElement(CheckIcon, { \"aria-hidden\": true })))))),\n                isFavorite !== null && id && favoriteButton(onFavorite))),\n            variant === SelectVariant.checkbox && !isNoResultsOption && (React.createElement(\"label\", Object.assign({}, props, { className: css(checkStyles.check, styles.selectMenuItem, isDisabled && styles.modifiers.disabled, description && styles.modifiers.description, className), onKeyDown: (event) => {\n                    this.onKeyDown(event, 0, undefined, true);\n                } }),\n                React.createElement(\"input\", { id: inputId || `${inputIdPrefix}-${value.toString()}`, className: css(checkStyles.checkInput), type: \"checkbox\", onChange: event => {\n                        if (!isDisabled) {\n                            onClick(event);\n                            onSelect(event, value);\n                        }\n                    }, ref: this.ref, checked: isChecked || false, disabled: isDisabled }),\n                React.createElement(\"span\", { className: css(checkStyles.checkLabel, isDisabled && styles.modifiers.disabled) }, itemDisplay),\n                description && React.createElement(\"div\", { className: css(checkStyles.checkDescription) }, description))),\n            variant === SelectVariant.checkbox && isNoResultsOption && (React.createElement(\"div\", null,\n                React.createElement(Component, Object.assign({}, props, { className: css(styles.selectMenuItem, isSelected && styles.modifiers.selected, isDisabled && styles.modifiers.disabled, className), role: \"option\", \"aria-selected\": isSelected || null, ref: this.ref, onKeyDown: (event) => {\n                        this.onKeyDown(event, 0, undefined, true);\n                    }, type: \"button\" }), itemDisplay)))))));\n    }\n}\nSelectOption.displayName = 'SelectOption';\nSelectOption.defaultProps = {\n    className: '',\n    value: '',\n    index: 0,\n    isDisabled: false,\n    isPlaceholder: false,\n    isSelected: false,\n    isChecked: false,\n    isNoResultsOption: false,\n    component: 'button',\n    onClick: () => { },\n    sendRef: () => { },\n    keyHandler: () => { },\n    inputId: '',\n    isFavorite: null\n};\n//# sourceMappingURL=SelectOption.js.map"]},"metadata":{},"sourceType":"module"}
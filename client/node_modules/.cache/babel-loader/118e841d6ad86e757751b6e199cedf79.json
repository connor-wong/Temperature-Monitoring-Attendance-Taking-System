{"ast":null,"code":"import _slicedToArray from\"C:/School Stuff/Modules/2021 Sem One/Final Year Project/Temperature Monitoring And Attendance Taking System/Web Interface Prototype/raspitar/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import axios from\"axios\";import{Row,Col,Container,Button,Modal,Toast}from\"react-bootstrap\";import{VictoryPie,VictoryLabel}from\"victory\";import Skeleton,{SkeletonTheme}from\"react-loading-skeleton\";import SelectedAttendance from\"./SelectedAttendance\";import StudentList from\"../StudentList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LatestAttendance=function LatestAttendance(props){var attendanceArray=props.attendance;var isLoading=props.isLoading;var setUpdateData=props.setUpdateData;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModal=_useState2[0],setShowModal=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),classTitle=_useState4[0],setClassTitle=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),date=_useState6[0],setDate=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),option=_useState8[0],setOption=_useState8[1];var selectHandler=function selectHandler(e){axios.post(\"/sheet/class\",e.target.id);setShowModal(true);setDate(e.currentTarget.value);setClassTitle(e.target.id);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Container,{className:\"latest-attendance text-center\",fluid:true,children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:\"white\",textAlign:\"left\"},children:\"Latest Attendance\"}),isLoading?/*#__PURE__*/_jsx(Row,{style:{marginBottom:\"10px\",textAlign:\"left\"},children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(SkeletonTheme,{color:\"#2e3896\",highlightColor:\"#1f276e\",children:[/*#__PURE__*/_jsx(Skeleton,{count:1,height:30,width:\"60%\",style:{marginBottom:\"10px\"}}),/*#__PURE__*/_jsx(Skeleton,{count:3,height:30,width:\"100%\",style:{marginBottom:\"10px\"}}),/*#__PURE__*/_jsx(Skeleton,{count:1,height:30,width:\"80%\"})]})})}):/*#__PURE__*/_jsx(Row,{children:attendanceArray.map(function(result){return/*#__PURE__*/_jsx(Col,{xl:4,lg:4,md:4,sm:12,xs:12,children:/*#__PURE__*/_jsxs(Toast,{style:{backgroundColor:\"white\",borderRadius:\"10px\",marginBottom:\"10px\"},children:[/*#__PURE__*/_jsxs(Toast.Header,{children:[/*#__PURE__*/_jsxs(\"strong\",{className:\"mr-auto\",children:[result.Date,\" \"]}),/*#__PURE__*/_jsx(\"strong\",{children:result.Class})]}),/*#__PURE__*/_jsxs(Toast.Body,{children:[/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 400 400\",children:[/*#__PURE__*/_jsx(VictoryPie,{standalone:false,padAngle:0,innerRadius:110,width:400,height:400,data:[{key:\"\",y:result.Present},{key:\"\",y:result.Total_Students-result.Present}],colorScale:[\"#3e4ccd\",\"#EEEEEE\"],style:{labels:{display:\"none\"}}}),/*#__PURE__*/_jsx(VictoryLabel,{textAnchor:\"middle\",style:{fontSize:\"50px\",fontWeight:\"bold\",fill:\"#535353\"},x:200,y:200,text:result.Present+\" / \"+result.Total_Students})]}),/*#__PURE__*/_jsx(Button,{id:result.Class,value:result.Date,onClick:function onClick(e){selectHandler(e);},style:{backgroundColor:\"#3e4ccd\",width:\"90%\",fontWeight:\"bold\"},children:\"Explore\"})]})]})},result.Class);})})]}),/*#__PURE__*/_jsxs(Modal,{className:\"text-center\",size:\"lg\",show:showModal,onHide:function onHide(){setShowModal(false);setOption(\"\");},children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:/*#__PURE__*/_jsx(\"h3\",{style:{fontWeight:\"bold\",color:\"#535353\"},children:classTitle})})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{xl:6,lg:6,md:6,sm:6,xs:6,style:{width:\"100%\",backgroundColor:\"#3e4ccd\",fontWeight:\"bold\"},onClick:function onClick(){return setOption(\"View\");},children:\"View\"})}),/*#__PURE__*/_jsx(Col,{xl:6,lg:6,md:6,sm:6,xs:6,children:/*#__PURE__*/_jsx(Button,{style:{width:\"100%\",backgroundColor:\"#3e4ccd\",fontWeight:\"bold\"},onClick:function onClick(){return setOption(\"Student\");},children:\"Students\"})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[option===\"View\"&&/*#__PURE__*/_jsx(SelectedAttendance,{date:date,setUpdateData:setUpdateData}),option===\"Student\"&&/*#__PURE__*/_jsx(StudentList,{})]})})]})]})]});};export default LatestAttendance;","map":{"version":3,"sources":["C:/School Stuff/Modules/2021 Sem One/Final Year Project/Temperature Monitoring And Attendance Taking System/Web Interface Prototype/raspitar/client/src/components/Dashboard/LatestAttendance/LatestAttendance.js"],"names":["React","useState","axios","Row","Col","Container","Button","Modal","Toast","VictoryPie","VictoryLabel","Skeleton","SkeletonTheme","SelectedAttendance","StudentList","LatestAttendance","props","attendanceArray","attendance","isLoading","setUpdateData","showModal","setShowModal","classTitle","setClassTitle","date","setDate","option","setOption","selectHandler","e","post","target","id","currentTarget","value","color","textAlign","marginBottom","map","result","backgroundColor","borderRadius","Date","Class","key","y","Present","Total_Students","labels","display","fontSize","fontWeight","fill","width"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Row, Col, Container, Button, Modal, Toast } from \"react-bootstrap\";\r\nimport { VictoryPie, VictoryLabel } from \"victory\";\r\nimport Skeleton, { SkeletonTheme } from \"react-loading-skeleton\";\r\nimport SelectedAttendance from \"./SelectedAttendance\";\r\nimport StudentList from \"../StudentList\";\r\n\r\nconst LatestAttendance = (props) => {\r\n  const attendanceArray = props.attendance;\r\n  const isLoading = props.isLoading;\r\n  const setUpdateData = props.setUpdateData;\r\n\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [classTitle, setClassTitle] = useState(\"\");\r\n  const [date, setDate] = useState(\"\");\r\n  const [option, setOption] = useState(\"\");\r\n\r\n  const selectHandler = (e) => {\r\n    axios.post(\"/sheet/class\", e.target.id);\r\n\r\n    setShowModal(true);\r\n    setDate(e.currentTarget.value);\r\n    setClassTitle(e.target.id);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Container className=\"latest-attendance text-center\" fluid>\r\n        <h3 style={{ color: \"white\", textAlign: \"left\" }}>Latest Attendance</h3>\r\n\r\n        {isLoading ? (\r\n          <Row style={{ marginBottom: \"10px\", textAlign: \"left\" }}>\r\n            <Col>\r\n              <SkeletonTheme color=\"#2e3896\" highlightColor=\"#1f276e\">\r\n                <Skeleton\r\n                  count={1}\r\n                  height={30}\r\n                  width={`60%`}\r\n                  style={{ marginBottom: \"10px\" }}\r\n                />\r\n                <Skeleton\r\n                  count={3}\r\n                  height={30}\r\n                  width={`100%`}\r\n                  style={{ marginBottom: \"10px\" }}\r\n                />\r\n                <Skeleton count={1} height={30} width={`80%`} />\r\n              </SkeletonTheme>\r\n            </Col>\r\n          </Row>\r\n        ) : (\r\n          <Row>\r\n            {attendanceArray.map((result) => {\r\n              return (\r\n                <Col xl={4} lg={4} md={4} sm={12} xs={12} key={result.Class}>\r\n                  <Toast\r\n                    style={{\r\n                      backgroundColor: \"white\",\r\n                      borderRadius: \"10px\",\r\n                      marginBottom: \"10px\",\r\n                    }}\r\n                  >\r\n                    <Toast.Header>\r\n                      <strong className=\"mr-auto\">{result.Date} </strong>\r\n                      <strong>{result.Class}</strong>\r\n                    </Toast.Header>\r\n                    <Toast.Body>\r\n                      <svg viewBox=\"0 0 400 400\">\r\n                        <VictoryPie\r\n                          standalone={false}\r\n                          padAngle={0}\r\n                          innerRadius={110}\r\n                          width={400}\r\n                          height={400}\r\n                          data={[\r\n                            { key: \"\", y: result.Present },\r\n                            {\r\n                              key: \"\",\r\n                              y: result.Total_Students - result.Present,\r\n                            },\r\n                          ]}\r\n                          colorScale={[\"#3e4ccd\", \"#EEEEEE\"]}\r\n                          style={{ labels: { display: \"none\" } }}\r\n                        />\r\n                        <VictoryLabel\r\n                          textAnchor=\"middle\"\r\n                          style={{\r\n                            fontSize: \"50px\",\r\n                            fontWeight: \"bold\",\r\n                            fill: \"#535353\",\r\n                          }}\r\n                          x={200}\r\n                          y={200}\r\n                          text={result.Present + \" / \" + result.Total_Students}\r\n                        />\r\n                      </svg>\r\n\r\n                      <Button\r\n                        id={result.Class}\r\n                        value={result.Date}\r\n                        onClick={(e) => {\r\n                          selectHandler(e);\r\n                        }}\r\n                        style={{\r\n                          backgroundColor: \"#3e4ccd\",\r\n                          width: \"90%\",\r\n                          fontWeight: \"bold\",\r\n                        }}\r\n                      >\r\n                        Explore\r\n                      </Button>\r\n                    </Toast.Body>\r\n                  </Toast>\r\n                </Col>\r\n              );\r\n            })}\r\n          </Row>\r\n        )}\r\n      </Container>\r\n      <Modal\r\n        className=\"text-center\"\r\n        size=\"lg\"\r\n        show={showModal}\r\n        onHide={() => {\r\n          setShowModal(false);\r\n          setOption(\"\");\r\n        }}\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>\r\n            <h3 style={{ fontWeight: \"bold\", color: \"#535353\" }}>\r\n              {classTitle}\r\n            </h3>\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Row>\r\n            <Col>\r\n              <Button\r\n                xl={6}\r\n                lg={6}\r\n                md={6}\r\n                sm={6}\r\n                xs={6}\r\n                style={{\r\n                  width: \"100%\",\r\n                  backgroundColor: \"#3e4ccd\",\r\n                  fontWeight: \"bold\",\r\n                }}\r\n                onClick={() => setOption(\"View\")}\r\n              >\r\n                View\r\n              </Button>\r\n            </Col>\r\n            <Col xl={6} lg={6} md={6} sm={6} xs={6}>\r\n              <Button\r\n                style={{\r\n                  width: \"100%\",\r\n                  backgroundColor: \"#3e4ccd\",\r\n                  fontWeight: \"bold\",\r\n                }}\r\n                onClick={() => setOption(\"Student\")}\r\n              >\r\n                Students\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col>\r\n              {option === \"View\" && (\r\n                <SelectedAttendance date={date} setUpdateData={setUpdateData} />\r\n              )}\r\n              {option === \"Student\" && <StudentList />}\r\n            </Col>\r\n          </Row>\r\n        </Modal.Body>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LatestAttendance;\r\n"]},"metadata":{},"sourceType":"module"}